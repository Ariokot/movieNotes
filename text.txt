CREATE TABLE users (
                id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
                first_name TEXT NOT NULL,
                last_name TEXT NOT NULL,
                user_name TEXT NOT NULL,
                hash TEXT NOT NULL
              );

CREATE UNIQUE INDEX user_name ON users (user_name);  

CREATE TABLE watched (
                id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
                movie_title TEXT NOT NULL,
                movie_year TEXT NOT NULL,
                movie_stars TEXT NOT NULL,
                movie_poster TEXT NOT NULL,
                movie_poster_sizes TEXT NOT NULL,
                movie_poster_set TEXT NOT NULL,
                movie_watched_date TEXT,
                user_id INTEGER NOT NULL,
                FOREIGN KEY (user_id) REFERENCES users(id)
              );

CREATE TABLE watchlist (
                id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
                movie_title TEXT NOT NULL,
                movie_year TEXT NOT NULL,
                movie_stars TEXT NOT NULL,
                movie_poster TEXT NOT NULL,
                movie_poster_sizes TEXT NOT NULL,
                movie_poster_set TEXT NOT NULL,
                user_id INTEGER NOT NULL,
                FOREIGN KEY (user_id) REFERENCES users(id)
              ); 

CREATE TABLE movie_buddies (
  movie_buddy1 INTEGER NOT NULL,
  movie_buddy2 INTEGER NOT NULL,
  FOREIGN KEY (movie_buddy1) REFERENCES users(id),
  FOREIGN KEY (movie_buddy2) REFERENCES users(id)
)                 

CREATE TABLE moviebuddy_request (
  request_sender INTEGER NOT NULL,
  request_recipient INTEGER NOT NULL,
  FOREIGN KEY (request_sender) REFERENCES users(id),
  FOREIGN KEY (request_recipient) REFERENCES users(id)
);  




